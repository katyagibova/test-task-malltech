{"remainingRequest":"/Users/katagibova/Desktop/industry/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/katagibova/Desktop/industry/src/components/AppUnit/AppVideoCarousel.vue?vue&type=style&index=0&id=0d490b98&scoped=true&lang=css&","dependencies":[{"path":"/Users/katagibova/Desktop/industry/src/components/AppUnit/AppVideoCarousel.vue","mtime":1679244105114},{"path":"/Users/katagibova/Desktop/industry/node_modules/css-loader/dist/cjs.js","mtime":1676814007733},{"path":"/Users/katagibova/Desktop/industry/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1676814005967},{"path":"/Users/katagibova/Desktop/industry/node_modules/postcss-loader/src/index.js","mtime":1676814005590},{"path":"/Users/katagibova/Desktop/industry/node_modules/cache-loader/dist/cjs.js","mtime":1676814008015},{"path":"/Users/katagibova/Desktop/industry/node_modules/vue-loader/lib/index.js","mtime":1676814005919}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci52aWRlb193cmFwcGVyewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgdG91Y2gtYWN0aW9uOiBwYW4teTsKfQoKLmNhcm91c2VsX3dyYXBwZXJ7CiAgbWF4LXdpZHRoOiA4MDBweDsKICBoZWlnaHQ6IDM5NXB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgbWFyZ2luOiAwIGF1dG87Cn0KCi5jYXJvdXNlbHsKICBkaXNwbGF5OiBmbGV4OwogIHRyYW5zaXRpb246IGFsbCBlYXNlIC41czsKfQoKLnBhZ2luYXRpb257CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgd2lkdGg6IDYwcHg7CiAgbWFyZ2luOiAxMnB4IGF1dG8gMDsKfQoKLnBhZ2luYXRpb25faXRlbXsKICB3aWR0aDogMTBweDsKICBoZWlnaHQ6IDEwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI0ZGRkZGRjsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgY3Vyc29yOiBwb2ludGVyOwp9Cgouc2VsZWN0ZWRfaXRlbXsKICBiYWNrZ3JvdW5kOiAjRDlEOUQ5Owp9CgoubGVmdF9hcnJvd3sKICBtYXJnaW4tcmlnaHQ6IDIxcHg7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLnJpZ2h0X2Fycm93ewogIG1hcmdpbi1sZWZ0OiAyMXB4OwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5ob3Zlcl9pbmZvewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBib3R0b206IDA7CiAgbGVmdDogMDsKICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuOSk7CiAgcGFkZGluZzogMzBweCAyNHB4OwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwp9CgouYnV0dG9uX2luZm97CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJvdHRvbTogMTBweDsKICBtYXJnaW4tbGVmdDogMTNweDsKICBtYXJnaW4tYm90dG9tOiAxM3B4OwogIGxlZnQ6IDA7CiAgY3Vyc29yOiBwb2ludGVyOwp9CgouYnV0dG9uX3BsYXl7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMzclOwogIGxlZnQ6IDQ1JTsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi52aWRlb3BsYXllcnsKICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KCi5ob3Zlcl9pbmZvX3RpdGxlewogIGZvbnQtc3R5bGU6IG5vcm1hbDsKICBmb250LXdlaWdodDogNTAwOwogIGZvbnQtc2l6ZTogMjFweDsKICBsaW5lLWhlaWdodDogMjVweDsKICBjb2xvcjogI0U5RTlFOTsKfQoKLmhvdmVyX2luZm9fc3VidGl0bGV7CiAgZm9udC1zdHlsZTogaXRhbGljOwogIGZvbnQtd2VpZ2h0OiA1MDA7CiAgZm9udC1zaXplOiAxOHB4OwogIGxpbmUtaGVpZ2h0OiAyMnB4OwogIGNvbG9yOiAjRThFOEU4Owp9CgouZW1wdHlfYmxvY2t7CiAgd2lkdGg6IDQ2cHg7Cn0KCi52b2x1bWVhY3RpdmV7CiAgYW5pbWF0aW9uLWR1cmF0aW9uOiAxczsKICBhbmltYXRpb24tbmFtZTogc2hvd192b2x1bWU7Cn0KCkBrZXlmcmFtZXMgc2hvd192b2x1bWUgewogIGZyb20gewogICAgb3BhY2l0eTogMDsKICB9CgogIHRvIHsKICAgIG9wYWNpdHk6IDE7CiAgfQp9CgoudmlkZW9fZGlhbG9newogIHBvc2l0aW9uOiBmaXhlZDsKICB0b3A6IDA7CiAgbGVmdDogMDsKICB6LWluZGV4OiAxNCAhaW1wb3J0YW50Owp9CgouYnV0dG9uX2Nsb3NlX2Z1bGx7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICByaWdodDogMDsKICBtYXJnaW4tcmlnaHQ6IDM0cHg7CiAgbWFyZ2luLXRvcDogMzVweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCnZpZGVvOjotd2Via2l0LW1lZGlhLWNvbnRyb2xzLWZ1bGxzY3JlZW4tYnV0dG9uIHsKICBkaXNwbGF5OiBub25lOwp9Cg=="},{"version":3,"sources":["AppVideoCarousel.vue"],"names":[],"mappings":";AA8JA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"AppVideoCarousel.vue","sourceRoot":"src/components/AppUnit","sourcesContent":["<template>\n<div class=\"video_wrapper\">\n    <div class=\"left_arrow\" @click=\"prev\" v-if=\"curentSlide !== 0\">\n      <img src=\"../../assets/icons/left-arrow.svg\" alt=\"\">\n    </div>\n    <div class=\"empty_block\" v-else></div>\n    <div>\n      <div class=\"carousel_wrapper\">\n        <div class=\"carousel\" :style=\"{'margin-left': '-' + (100 * curentSlide) + '%'}\">\n            <div\n            class=\"videoplayer\"\n            v-for=\"(item, i) in items\" \n            :key=\"i\">\n              <video disablepictureinpicture playsinline  width=\"800\" height=\"410\" :poster=\"require('../../assets/books_posters/' + item.poster)\" :controls=\"false\" controlsList=\"nodownload\">\n                <source :src=\"require('../../assets/video/' + item.url)\" type=\"video/mp4\">\n              </video>\n              <div class=\"button_play\" @click=\"videoPlay\" v-if=\"showPlayBtn\">\n                <img src=\"../../assets/icons/button_play.png\" alt=\"\">\n              </div>\n              <div class=\"button_info\" v-if=\"showInfoBtn\" @click=\"showVideoInfo\">\n                <img src=\"../../assets/icons/button_info.png\" alt=\"\">\n              </div>\n              <div class=\"hover_info\" v-if=\"showInfo\">\n                <div>\n                  <p class=\"hover_info_title\">{{item.hover_title}}</p>\n                  <p class=\"hover_info_subtitle\">{{item.hover_subtitle}}</p>\n                </div>\n                <div style=\"cursor: pointer\" @click=\"showVideoInfo\">\n                  <img src=\"../../assets/icons/button_close.png\" alt=\"\">\n                </div>\n              </div>\n            </div>\n        </div>\n      </div>\n      <div class=\"pagination\">\n        <div \n        class=\"pagination_item\" \n        v-for=\"i in 3\" \n        :key=\"i\"\n        :class=\"{'selected_item': i === curentSlide + 1}\"\n        @click=\"setCurentSlide(i-1)\" />\n      </div>\n    </div>\n    <div class=\"right_arrow\" @click=\"next\" v-if=\"curentSlide !== 2\">\n      <img src=\"../../assets/icons/right-arrow.svg\" alt=\"\">\n    </div>\n    <div class=\"empty_block\" v-else></div>\n    <div class=\"video_dialog\" v-if=\"showVideoDialog\">\n      <video disablepictureinpicture autoplay playsinline  width=\"1920\" height=\"1080\" :controls=\"showControls\" controlsList=\"nodownload\" id=\"video_dialog\">\n        <source :src=\"require('../../assets/video/' + videoUrl)\" type=\"video/mp4\">\n      </video>\n      <div class=\"button_close_full\" @click=\"videoClose\">\n          <img src=\"../../assets/icons/button_close_full.png\" alt=\"\">\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\n\nexport default {\n  name: 'AppVideoCarousel',\n  components: {},\n  props: {\n    items: {\n      type: Array,\n      require: true,\n      default: () => []\n    },\n  },\n  data(){\n    return {\n      curentSlide: 0,\n      showControls: false,\n      showInfo: false,\n      showInfoBtn: true,\n      showPlayBtn: true,\n      timerId: null,\n      showVideoDialog: false,\n      videoUrl: '',\n      touch: {\n        startX: 0,\n        endX: 0\n      }\n    }\n  },\n  watch:{},\n  created(){},\n  mounted(){\n    this.$el.addEventListener('touchstart', event => this.touchstart(event))\n    this.$el.addEventListener('touchmove', event => this.touchmove(event))\n    this.$el.addEventListener('touchend', () => this.touchend())\n  },\n  computed: {\n  },\n  methods: {\n    setCurentSlide(i){\n      this.curentSlide = i\n    },\n    prev(){\n      const index = this.curentSlide > 0 ? this.curentSlide - 1 : this.items.length - 1\n      this.setCurentSlide(index)\n    },\n    next(){\n      const index = this.curentSlide < this.items.length - 1 ? this.curentSlide + 1 : 0\n      this.setCurentSlide(index)\n    },\n    showVideoInfo() {\n      this.showInfo = !this.showInfo\n      this.showInfoBtn = !this.showInfoBtn\n    },\n    videoPlay() {\n      this.showVideoDialog = true\n      this.videoUrl = this.items[this.curentSlide].url\n\n      setTimeout(() => {\n        const videoEl = document.getElementsByTagName('video')[3]\n\n        const videoDuration = videoEl.duration\n        this.timerId = setInterval(() => {\n          let currentTime = videoEl.currentTime\n          if(currentTime == videoDuration) {\n            this.videoClose()\n            clearInterval(this.timerId)\n            return\n          }\n        }, 10)\n      }, 1000)\n      this.showInfo = false\n      this.showControls = true\n    },\n    videoClose(){\n      const videoEl = document.getElementsByTagName('video')[3]\n      videoEl.pause()\n      this.showVideoDialog = false\n    },\n    touchstart(event){\n      this.touch.startX = event.touches[0].clientX\n      this.touch.endX = 0\n    },\n    touchmove(event){\n      this.touch.endX = event.touches[0].clientX\n    },\n    touchend(){\n      if(!this.touch.endX || Math.abs(this.touch.endX - this.touch.startX) < 20){\n        return\n      }\n      if(this.touch.endX < this.touch.startX) {\n        this.next()\n      } else {\n        this.prev() \n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n.video_wrapper{\n  display: flex;\n  justify-content: center;\n  user-select: none;\n  touch-action: pan-y;\n}\n\n.carousel_wrapper{\n  max-width: 800px;\n  height: 395px;\n  overflow: hidden;\n  margin: 0 auto;\n}\n\n.carousel{\n  display: flex;\n  transition: all ease .5s;\n}\n\n.pagination{\n  display: flex;\n  justify-content: space-between;\n  width: 60px;\n  margin: 12px auto 0;\n}\n\n.pagination_item{\n  width: 10px;\n  height: 10px;\n  border: 1px solid #FFFFFF;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.selected_item{\n  background: #D9D9D9;\n}\n\n.left_arrow{\n  margin-right: 21px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n\n.right_arrow{\n  margin-left: 21px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n\n.hover_info{\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.9);\n  padding: 30px 24px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.button_info{\n  position: absolute;\n  bottom: 10px;\n  margin-left: 13px;\n  margin-bottom: 13px;\n  left: 0;\n  cursor: pointer;\n}\n\n.button_play{\n  position: absolute;\n  top: 37%;\n  left: 45%;\n  cursor: pointer;\n}\n\n.videoplayer{\n  position: relative;\n}\n\n.hover_info_title{\n  font-style: normal;\n  font-weight: 500;\n  font-size: 21px;\n  line-height: 25px;\n  color: #E9E9E9;\n}\n\n.hover_info_subtitle{\n  font-style: italic;\n  font-weight: 500;\n  font-size: 18px;\n  line-height: 22px;\n  color: #E8E8E8;\n}\n\n.empty_block{\n  width: 46px;\n}\n\n.volumeactive{\n  animation-duration: 1s;\n  animation-name: show_volume;\n}\n\n@keyframes show_volume {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n\n.video_dialog{\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 14 !important;\n}\n\n.button_close_full{\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin-right: 34px;\n  margin-top: 35px;\n  cursor: pointer;\n}\n\nvideo::-webkit-media-controls-fullscreen-button {\n  display: none;\n}\n</style>\n"]}]}