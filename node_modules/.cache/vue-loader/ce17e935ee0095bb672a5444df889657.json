{"remainingRequest":"/Users/katagibova/Desktop/Работа/Yeltsin-Project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/katagibova/Desktop/Работа/Yeltsin-Project/src/components/AppUnit/AppCarousel.vue?vue&type=style&index=0&id=6b1a7592&scoped=true&lang=css&","dependencies":[{"path":"/Users/katagibova/Desktop/Работа/Yeltsin-Project/src/components/AppUnit/AppCarousel.vue","mtime":1679861718344},{"path":"/Users/katagibova/Desktop/Работа/Yeltsin-Project/node_modules/css-loader/dist/cjs.js","mtime":1676814007733},{"path":"/Users/katagibova/Desktop/Работа/Yeltsin-Project/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1676814005967},{"path":"/Users/katagibova/Desktop/Работа/Yeltsin-Project/node_modules/postcss-loader/src/index.js","mtime":1676814005590},{"path":"/Users/katagibova/Desktop/Работа/Yeltsin-Project/node_modules/cache-loader/dist/cjs.js","mtime":1676814008015},{"path":"/Users/katagibova/Desktop/Работа/Yeltsin-Project/node_modules/vue-loader/lib/index.js","mtime":1676814005919}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5waG90b193cmFwcGVyewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgdG91Y2gtYWN0aW9uOiBwYW4teTsKfQoKLmNhcm91c2VsX3dyYXBwZXJ7CiAgbWF4LXdpZHRoOiA3OTBweDsKICBoZWlnaHQ6IDM5NXB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgbWFyZ2luOiAwIGF1dG87Cn0KCi5jYXJvdXNlbHsKICBkaXNwbGF5OiBmbGV4OwogIHRyYW5zaXRpb246IGFsbCBlYXNlIC41czsKfQoKLmNhcm91c2VsIGltZyB7CiAgcG9pbnRlci1ldmVudHM6IG5vbmU7Cn0KCi5sZWZ0X2Fycm93ewogIG1hcmdpbi1yaWdodDogMjFweDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgY3Vyc29yOiBwb2ludGVyOwp9CgoucmlnaHRfYXJyb3d7CiAgbWFyZ2luLWxlZnQ6IDIxcHg7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLmVtcHR5X2Jsb2NrewogIHdpZHRoOiA0NnB4Owp9CgoucGFnaW5hdGlvbnsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICB3aWR0aDogODRweDsKICBtYXJnaW46IDEycHggYXV0byAwOwp9CgoucGFnaW5hdGlvbl9pdGVtewogIHdpZHRoOiAxMHB4OwogIGhlaWdodDogMTBweDsKICBib3JkZXI6IDFweCBzb2xpZCAjRkZGRkZGOwogIGJvcmRlci1yYWRpdXM6IDUwJTsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5zZWxlY3RlZF9pdGVtewogIGJhY2tncm91bmQ6ICNEOUQ5RDk7Cn0K"},{"version":3,"sources":["AppCarousel.vue"],"names":[],"mappings":";AAsIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"AppCarousel.vue","sourceRoot":"src/components/AppUnit","sourcesContent":["<template>\n<div class=\"photo_wrapper\">\n    <div class=\"left_arrow\" @click=\"prev\" v-if=\"curentSlide !== 0\">\n      <img src=\"../../assets/icons/left-arrow.svg\" alt=\"\">\n    </div>\n    <div class=\"empty_block\" v-else></div>\n    <div style=\"user-select: none; touch-action: pan-y;\">\n      <div class=\"carousel_wrapper\">\n        <div class=\"carousel\" :style=\"carouselPosition\" id=\"carousel\">\n          <app-carousel-item\n          v-for=\"(item, i) in items\"\n          :key=\"i\"\n          :item=\"item\"\n          @showPhoto=\"showPhoto\"\n          />\n        </div>\n      </div>\n      <div class=\"pagination\">\n        <div \n        class=\"pagination_item\" \n        v-for=\"i in nums\" \n        :key=\"i\"\n        :class=\"{'selected_item': i === curentSlide}\"\n        @click=\"setCurentSlide(i)\" />\n      </div>\n    </div>\n    <div class=\"right_arrow\" @click=\"next\" v-if=\"curentSlide !== 6\">\n      <img src=\"../../assets/icons/right-arrow.svg\" alt=\"\">\n    </div>\n    <div class=\"empty_block\" v-else></div>\n    <app-light-box v-model=\"isOpen\" :media=\"photosLarge\" :lightBoxIndex.sync=\"lightBoxIndex\"  />\n</div>\n</template>\n\n<script>\nimport AppCarouselItem from './AppCarouselItem.vue'\nimport AppLightBox from './AppLightBox.vue'\n\nexport default {\n  name: 'AppCarousel',\n  components: {\n    AppCarouselItem,\n    AppLightBox,\n  },\n  props: {\n    items: {\n      type: Array,\n      require: true,\n      default: () => []\n    },\n    photosLarge: {\n      type: Array,\n      require: true,\n      default: () => []\n    },\n  },\n  data(){\n    return {\n      curentSlide: 0,\n      lightBoxIndex: 0,\n      isOpen: false,\n      nums: [0, 2, 4, 6],\n      touch: {\n        startX: 0,\n        endX: 0\n      }\n    }\n  },\n  watch:{\n    isOpen(value){\n      if(value){\n        const alem = document.getElementById('carousel')\n        alem.removeEventListener('touchstart', event => this.touchstart(event))\n        alem.removeEventListener('touchmove', event => this.touchstart(event))\n        alem.removeEventListener('touchend', () => this.touchstart())\n      } \n      // else {\n      //   this.$el.addEventListener('touchstart', event => this.touchstart(event))\n      //   this.$el.addEventListener('touchmove', event => this.touchmove(event))\n      //   this.$el.addEventListener('touchend', () => this.touchend())\n      // }\n    }\n  },\n  created(){\n  },\n  mounted(){\n    const alem = document.getElementById('carousel')\n    alem.addEventListener('touchstart', event => this.touchstart(event))\n    alem.addEventListener('touchmove', event => this.touchmove(event))\n    alem.addEventListener('touchend', () => this.touchend())\n  },\n  computed: {\n    carouselPosition(){\n      return { transform: 'translateX(-'+ this.curentSlide * 50 +'%)'}\n    }\n  },\n  methods: {\n    setCurentSlide(i){\n      this.curentSlide = i\n    },\n    prev(){\n      const index = this.curentSlide > 0 ? this.curentSlide - 2 : this.items.length - 2\n      this.setCurentSlide(index)\n    },\n    next(){\n      const index = this.curentSlide < this.items.length - 2 ? this.curentSlide + 2 : 0\n      this.setCurentSlide(index)\n    },\n    showPhoto(data){\n      this.lightBoxIndex = data.index\n      this.isOpen = true\n    },\n    touchstart(event){\n      this.touch.startX = event.touches[0].clientX\n      this.touch.endX = 0\n    },\n    touchmove(event){\n      this.touch.endX = event.touches[0].clientX\n    },\n    touchend(){\n      if(!this.touch.endX || Math.abs(this.touch.endX - this.touch.startX) < 20){\n        return\n      }\n      if(this.touch.endX < this.touch.startX) {\n        this.next()\n      } else {\n        this.prev() \n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n.photo_wrapper{\n  display: flex;\n  justify-content: center;\n  user-select: none;\n  touch-action: pan-y;\n}\n\n.carousel_wrapper{\n  max-width: 790px;\n  height: 395px;\n  overflow: hidden;\n  margin: 0 auto;\n}\n\n.carousel{\n  display: flex;\n  transition: all ease .5s;\n}\n\n.carousel img {\n  pointer-events: none;\n}\n\n.left_arrow{\n  margin-right: 21px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n\n.right_arrow{\n  margin-left: 21px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n\n.empty_block{\n  width: 46px;\n}\n\n.pagination{\n  display: flex;\n  justify-content: space-between;\n  width: 84px;\n  margin: 12px auto 0;\n}\n\n.pagination_item{\n  width: 10px;\n  height: 10px;\n  border: 1px solid #FFFFFF;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.selected_item{\n  background: #D9D9D9;\n}\n</style>\n"]}]}