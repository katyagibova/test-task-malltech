{"remainingRequest":"/Users/katagibova/Desktop/Диплом/industry-diploma/node_modules/babel-loader/lib/index.js!/Users/katagibova/Desktop/Диплом/industry-diploma/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/katagibova/Desktop/Диплом/industry-diploma/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/katagibova/Desktop/Диплом/industry-diploma/src/components/AppUnit/AppLightBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/katagibova/Desktop/Диплом/industry-diploma/src/components/AppUnit/AppLightBox.vue","mtime":1679862448418},{"path":"/Users/katagibova/Desktop/Диплом/industry-diploma/babel.config.js","mtime":1676813917908},{"path":"/Users/katagibova/Desktop/Диплом/industry-diploma/node_modules/cache-loader/dist/cjs.js","mtime":1676814008015},{"path":"/Users/katagibova/Desktop/Диплом/industry-diploma/node_modules/babel-loader/lib/index.js","mtime":1676814008140},{"path":"/Users/katagibova/Desktop/Диплом/industry-diploma/node_modules/cache-loader/dist/cjs.js","mtime":1676814008015},{"path":"/Users/katagibova/Desktop/Диплом/industry-diploma/node_modules/vue-loader/lib/index.js","mtime":1676814005919}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHBMaWdodEJveCcsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmU6IHRydWUsCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbGlnaHRCb3hJbmRleDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmU6IHRydWUsCiAgICAgIGRlZmF1bHQ6ICgpID0+IDAKICAgIH0sCiAgICBtZWRpYTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZTogdHJ1ZSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10KICAgIH0KICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5kZXg6IDAsCiAgICAgIHRvdWNoOiB7CiAgICAgICAgc3RhcnRYOiAwLAogICAgICAgIGVuZFg6IDAKICAgICAgfQogICAgfTsKICB9LAoKICB3YXRjaDogewogICAgbGlnaHRCb3hJbmRleCh2YWwpIHsKICAgICAgdGhpcy5pbmRleCA9IHZhbDsKICAgIH0sCgogICAgdmFsdWUodmFsKSB7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIGNvbnN0IGFsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlnaHRfYm94Jyk7CiAgICAgICAgICBhbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBldmVudCA9PiB0aGlzLnRvdWNoc3RhcnQoZXZlbnQpKTsKICAgICAgICAgIGFsZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZXZlbnQgPT4gdGhpcy50b3VjaG1vdmUoZXZlbnQpKTsKICAgICAgICAgIGFsZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoKSA9PiB0aGlzLnRvdWNoZW5kKCkpOwogICAgICAgIH0sIDUwKTsKICAgICAgfQogICAgfQoKICB9LAoKICBjcmVhdGVkKCkge30sCgogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiB7CiAgICBzZXRDdXJlbnRTbGlkZShpKSB7CiAgICAgIHRoaXMuaW5kZXggPSBpOwogICAgfSwKCiAgICBwcmV2KCkgewogICAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kZXggPiAwID8gdGhpcy5pbmRleCAtIDEgOiB0aGlzLm1lZGlhLmxlbmd0aCAtIDE7CiAgICAgIHRoaXMuc2V0Q3VyZW50U2xpZGUoaW5kZXgpOwogICAgfSwKCiAgICBuZXh0KCkgewogICAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kZXggPCB0aGlzLm1lZGlhLmxlbmd0aCAtIDEgPyB0aGlzLmluZGV4ICsgMSA6IDA7CiAgICAgIHRoaXMuc2V0Q3VyZW50U2xpZGUoaW5kZXgpOwogICAgfSwKCiAgICBjbG9zZUxpZ2h0Qm94KCkgewogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIGZhbHNlKTsKICAgIH0sCgogICAgdG91Y2hzdGFydChldmVudCkgewogICAgICB0aGlzLnRvdWNoLnN0YXJ0WCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDsKICAgICAgdGhpcy50b3VjaC5lbmRYID0gMDsKICAgIH0sCgogICAgdG91Y2htb3ZlKGV2ZW50KSB7CiAgICAgIHRoaXMudG91Y2guZW5kWCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDsKICAgIH0sCgogICAgdG91Y2hlbmQoKSB7CiAgICAgIGlmICghdGhpcy50b3VjaC5lbmRYIHx8IE1hdGguYWJzKHRoaXMudG91Y2guZW5kWCAtIHRoaXMudG91Y2guc3RhcnRYKSA8IDIwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy50b3VjaC5lbmRYIDwgdGhpcy50b3VjaC5zdGFydFgpIHsKICAgICAgICB0aGlzLm5leHQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnByZXYoKTsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"mappings":"AA8BA;EACAA,mBADA;EAEAC,cAFA;EAGAC;IACAC;MACAC,aADA;MAEAC,aAFA;MAGAC;IAHA,CADA;IAMAC;MACAH,YADA;MAEAC,aAFA;MAGAC;IAHA,CANA;IAWAE;MACAJ,WADA;MAEAC,aAFA;MAGAC;IAHA;EAXA,CAHA;;EAoBAG;IACA;MACAC,QADA;MAEAC;QACAC,SADA;QAEAC;MAFA;IAFA;EAOA,CA5BA;;EA6BAC;IACAP;MACA;IACA,CAHA;;IAIAJ;MACA;QACAY;UACA;UACAC;UACAA;UACAA;QACA,CALA,EAKA,EALA;MAMA;IACA;;EAbA,CA7BA;;EA4CAC,WACA,CA7CA;;EA8CAC,YA9CA;EAgDAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;MACA;IACA,CAPA;;IAQAC;MACA;MACA;IACA,CAXA;;IAYAC;MACA;IACA,CAdA;;IAeAC;MACA;MACA;IACA,CAlBA;;IAmBAC;MACA;IACA,CArBA;;IAsBAC;MACA;QACA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA;;EA/BA;AAhDA","names":["name","components","props","value","type","require","default","lightBoxIndex","media","data","index","touch","startX","endX","watch","setTimeout","alem","created","computed","methods","setCurentSlide","prev","next","closeLightBox","touchstart","touchmove","touchend"],"sourceRoot":"src/components/AppUnit","sources":["AppLightBox.vue"],"sourcesContent":["<template>\n<div v-if=\"value\" class=\"light_box_wrapper\" id=\"light_box\">\n  <div class=\"light_box_inner\">\n    <div class=\"light_box_close\" @click=\"closeLightBox\">\n      <img src=\"../../assets/icons/button_close_full.svg\" alt=\"\">\n    </div>\n    <div class=\"left_arrow\" @click=\"prev\">\n      <img src=\"../../assets/icons/left-arrow.svg\" alt=\"\">\n    </div>\n     \n    <div class=\"photo_info\">\n        <div v-for=\"(item, i) in media\" :key=\"i\">\n            <div v-show=\"index === i\">\n                <img :src=\"require('../../assets/books_photo/' + item.url)\" alt=\"\" class=\"photo_info_photo\">\n                <p class=\"photo_info_title\">{{item.title}}</p>\n                <p class=\"photo_info_title_mini\">{{item.title_mini}}</p>\n                <p class=\"photo_info_title\">{{item.description}}</p>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"right_arrow\" @click=\"next\">\n      <img src=\"../../assets/icons/right-arrow.svg\" alt=\"\">\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\n\nexport default {\n  name: 'AppLightBox',\n  components: {},\n  props: {\n    value: {\n      type: Boolean,\n      require: true,\n      default: false\n    },\n    lightBoxIndex: {\n      type: Number,\n      require: true,\n      default: () => 0\n    },\n    media: {\n      type: Array,\n      require: true,\n      default: () => []\n    },\n  },\n  data(){\n    return {\n      index: 0,\n      touch: {\n        startX: 0,\n        endX: 0\n      }\n    }\n  },\n  watch:{\n    lightBoxIndex(val){\n      this.index = val\n    },\n    value(val){\n      if(val){\n        setTimeout(() => {\n          const alem = document.getElementById('light_box')\n          alem.addEventListener('touchstart', event => this.touchstart(event))\n          alem.addEventListener('touchmove', event => this.touchmove(event))\n          alem.addEventListener('touchend', () => this.touchend())\n        }, 50)\n      }\n    }\n  },\n  created(){\n  },\n  computed: {\n  },\n  methods: {\n    setCurentSlide(i){\n      this.index = i\n    },\n    prev(){\n      const index = this.index > 0 ? this.index - 1 : this.media.length - 1\n      this.setCurentSlide(index)\n    },\n    next(){\n      const index = this.index < this.media.length - 1 ? this.index + 1 : 0\n      this.setCurentSlide(index)\n    },\n    closeLightBox(){\n      this.$emit('input', false)\n    },\n    touchstart(event){\n      this.touch.startX = event.touches[0].clientX\n      this.touch.endX = 0\n    },\n    touchmove(event){\n      this.touch.endX = event.touches[0].clientX\n    },\n    touchend(){\n      if(!this.touch.endX || Math.abs(this.touch.endX - this.touch.startX) < 20){\n        return\n      }\n      if(this.touch.endX < this.touch.startX) {\n        this.next()\n      } else {\n        this.prev() \n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n.light_box_wrapper{\n  background: rgba(0, 0, 0, 0.9);\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 12 !important;\n  overflow: auto;\n}\n.light_box_wrapper::-webkit-scrollbar {\n  width: 0;\n}\n.light_box_inner{\n  margin: 35px 69px 22px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.light_box_close{\n  position: absolute;\n  top: 35px;\n  right: 69px;\n  cursor: pointer;\n}\n\n.left_arrow{\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n\n.right_arrow{\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n\n.photo_info{\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  user-select: none;\n  touch-action: pan-y;\n  pointer-events: none;\n}\n\n.photo_info_photo{\n  margin-bottom: 24px;\n}\n\np{\n  margin: 0;\n  color: #D1D1D1;\n  font-weight: 500;\n}\n\n.photo_info_title{\n  font-style: normal;\n  font-size: 21px;\n  line-height: 25px;\n}\n\n.photo_info_title_mini{\n  font-style: italic;\n  font-size: 18px;\n  line-height: 22px;\n}\n\n.slide-in-enter-active,\n.slide-in-leave-active,\n.slide-out-enter-active,\n.slide-out-leave-active{\n  transition: all 1s ease-in-out;\n}\n\n.slide-in-enter-from,\n.slide-out-leave-to{\n  transform: translateX(-100%);\n}\n\n.slide-in-leave-to,\n.slide-out-enter-from{\n  transform: translateX(100%);\n}\n</style>\n"]}]}