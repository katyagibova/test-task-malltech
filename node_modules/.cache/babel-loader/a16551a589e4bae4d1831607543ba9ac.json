{"remainingRequest":"/Users/katagibova/Desktop/industry/node_modules/babel-loader/lib/index.js!/Users/katagibova/Desktop/industry/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/katagibova/Desktop/industry/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/katagibova/Desktop/industry/src/components/AppUnit/AppCarousel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/katagibova/Desktop/industry/src/components/AppUnit/AppCarousel.vue","mtime":1679861718344},{"path":"/Users/katagibova/Desktop/industry/babel.config.js","mtime":1676813917908},{"path":"/Users/katagibova/Desktop/industry/node_modules/cache-loader/dist/cjs.js","mtime":1676814008015},{"path":"/Users/katagibova/Desktop/industry/node_modules/babel-loader/lib/index.js","mtime":1676814008140},{"path":"/Users/katagibova/Desktop/industry/node_modules/cache-loader/dist/cjs.js","mtime":1676814008015},{"path":"/Users/katagibova/Desktop/industry/node_modules/vue-loader/lib/index.js","mtime":1676814005919}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEFwcENhcm91c2VsSXRlbSBmcm9tICcuL0FwcENhcm91c2VsSXRlbS52dWUnOwppbXBvcnQgQXBwTGlnaHRCb3ggZnJvbSAnLi9BcHBMaWdodEJveC52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcENhcm91c2VsJywKICBjb21wb25lbnRzOiB7CiAgICBBcHBDYXJvdXNlbEl0ZW0sCiAgICBBcHBMaWdodEJveAogIH0sCiAgcHJvcHM6IHsKICAgIGl0ZW1zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlOiB0cnVlLAogICAgICBkZWZhdWx0OiAoKSA9PiBbXQogICAgfSwKICAgIHBob3Rvc0xhcmdlOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlOiB0cnVlLAogICAgICBkZWZhdWx0OiAoKSA9PiBbXQogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJlbnRTbGlkZTogMCwKICAgICAgbGlnaHRCb3hJbmRleDogMCwKICAgICAgaXNPcGVuOiBmYWxzZSwKICAgICAgbnVtczogWzAsIDIsIDQsIDZdLAogICAgICB0b3VjaDogewogICAgICAgIHN0YXJ0WDogMCwKICAgICAgICBlbmRYOiAwCiAgICAgIH0KICAgIH07CiAgfSwKCiAgd2F0Y2g6IHsKICAgIGlzT3Blbih2YWx1ZSkgewogICAgICBpZiAodmFsdWUpIHsKICAgICAgICBjb25zdCBhbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nhcm91c2VsJyk7CiAgICAgICAgYWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZXZlbnQgPT4gdGhpcy50b3VjaHN0YXJ0KGV2ZW50KSk7CiAgICAgICAgYWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBldmVudCA9PiB0aGlzLnRvdWNoc3RhcnQoZXZlbnQpKTsKICAgICAgICBhbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4gdGhpcy50b3VjaHN0YXJ0KCkpOwogICAgICB9IC8vIGVsc2UgewogICAgICAvLyAgIHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBldmVudCA9PiB0aGlzLnRvdWNoc3RhcnQoZXZlbnQpKQogICAgICAvLyAgIHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGV2ZW50ID0+IHRoaXMudG91Y2htb3ZlKGV2ZW50KSkKICAgICAgLy8gICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IHRoaXMudG91Y2hlbmQoKSkKICAgICAgLy8gfQoKICAgIH0KCiAgfSwKCiAgY3JlYXRlZCgpIHt9LAoKICBtb3VudGVkKCkgewogICAgY29uc3QgYWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJvdXNlbCcpOwogICAgYWxlbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZXZlbnQgPT4gdGhpcy50b3VjaHN0YXJ0KGV2ZW50KSk7CiAgICBhbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGV2ZW50ID0+IHRoaXMudG91Y2htb3ZlKGV2ZW50KSk7CiAgICBhbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4gdGhpcy50b3VjaGVuZCgpKTsKICB9LAoKICBjb21wdXRlZDogewogICAgY2Fyb3VzZWxQb3NpdGlvbigpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKC0nICsgdGhpcy5jdXJlbnRTbGlkZSAqIDUwICsgJyUpJwogICAgICB9OwogICAgfQoKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldEN1cmVudFNsaWRlKGkpIHsKICAgICAgdGhpcy5jdXJlbnRTbGlkZSA9IGk7CiAgICB9LAoKICAgIHByZXYoKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jdXJlbnRTbGlkZSA+IDAgPyB0aGlzLmN1cmVudFNsaWRlIC0gMiA6IHRoaXMuaXRlbXMubGVuZ3RoIC0gMjsKICAgICAgdGhpcy5zZXRDdXJlbnRTbGlkZShpbmRleCk7CiAgICB9LAoKICAgIG5leHQoKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jdXJlbnRTbGlkZSA8IHRoaXMuaXRlbXMubGVuZ3RoIC0gMiA/IHRoaXMuY3VyZW50U2xpZGUgKyAyIDogMDsKICAgICAgdGhpcy5zZXRDdXJlbnRTbGlkZShpbmRleCk7CiAgICB9LAoKICAgIHNob3dQaG90byhkYXRhKSB7CiAgICAgIHRoaXMubGlnaHRCb3hJbmRleCA9IGRhdGEuaW5kZXg7CiAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTsKICAgIH0sCgogICAgdG91Y2hzdGFydChldmVudCkgewogICAgICB0aGlzLnRvdWNoLnN0YXJ0WCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDsKICAgICAgdGhpcy50b3VjaC5lbmRYID0gMDsKICAgIH0sCgogICAgdG91Y2htb3ZlKGV2ZW50KSB7CiAgICAgIHRoaXMudG91Y2guZW5kWCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDsKICAgIH0sCgogICAgdG91Y2hlbmQoKSB7CiAgICAgIGlmICghdGhpcy50b3VjaC5lbmRYIHx8IE1hdGguYWJzKHRoaXMudG91Y2guZW5kWCAtIHRoaXMudG91Y2guc3RhcnRYKSA8IDIwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy50b3VjaC5lbmRYIDwgdGhpcy50b3VjaC5zdGFydFgpIHsKICAgICAgICB0aGlzLm5leHQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnByZXYoKTsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"mappings":"AAmCA;AACA;AAEA;EACAA,mBADA;EAEAC;IACAC,eADA;IAEAC;EAFA,CAFA;EAMAC;IACAC;MACAC,WADA;MAEAC,aAFA;MAGAC;IAHA,CADA;IAMAC;MACAH,WADA;MAEAC,aAFA;MAGAC;IAHA;EANA,CANA;;EAkBAE;IACA;MACAC,cADA;MAEAC,gBAFA;MAGAC,aAHA;MAIAC,kBAJA;MAKAC;QACAC,SADA;QAEAC;MAFA;IALA;EAUA,CA7BA;;EA8BAC;IACAL;MACA;QACA;QACAM;QACAA;QACAA;MACA,CANA,CAOA;MACA;MACA;MACA;MACA;;IACA;;EAbA,CA9BA;;EA6CAC,WACA,CA9CA;;EA+CAC;IACA;IACAF;IACAA;IACAA;EACA,CApDA;;EAqDAG;IACAC;MACA;QAAAC;MAAA;IACA;;EAHA,CArDA;EA0DAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;MACA;IACA,CAPA;;IAQAC;MACA;MACA;IACA,CAXA;;IAYAC;MACA;MACA;IACA,CAfA;;IAgBAC;MACA;MACA;IACA,CAnBA;;IAoBAC;MACA;IACA,CAtBA;;IAuBAC;MACA;QACA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA;;EAhCA;AA1DA","names":["name","components","AppCarouselItem","AppLightBox","props","items","type","require","default","photosLarge","data","curentSlide","lightBoxIndex","isOpen","nums","touch","startX","endX","watch","alem","created","mounted","computed","carouselPosition","transform","methods","setCurentSlide","prev","next","showPhoto","touchstart","touchmove","touchend"],"sourceRoot":"src/components/AppUnit","sources":["AppCarousel.vue"],"sourcesContent":["<template>\n<div class=\"photo_wrapper\">\n    <div class=\"left_arrow\" @click=\"prev\" v-if=\"curentSlide !== 0\">\n      <img src=\"../../assets/icons/left-arrow.svg\" alt=\"\">\n    </div>\n    <div class=\"empty_block\" v-else></div>\n    <div style=\"user-select: none; touch-action: pan-y;\">\n      <div class=\"carousel_wrapper\">\n        <div class=\"carousel\" :style=\"carouselPosition\" id=\"carousel\">\n          <app-carousel-item\n          v-for=\"(item, i) in items\"\n          :key=\"i\"\n          :item=\"item\"\n          @showPhoto=\"showPhoto\"\n          />\n        </div>\n      </div>\n      <div class=\"pagination\">\n        <div \n        class=\"pagination_item\" \n        v-for=\"i in nums\" \n        :key=\"i\"\n        :class=\"{'selected_item': i === curentSlide}\"\n        @click=\"setCurentSlide(i)\" />\n      </div>\n    </div>\n    <div class=\"right_arrow\" @click=\"next\" v-if=\"curentSlide !== 6\">\n      <img src=\"../../assets/icons/right-arrow.svg\" alt=\"\">\n    </div>\n    <div class=\"empty_block\" v-else></div>\n    <app-light-box v-model=\"isOpen\" :media=\"photosLarge\" :lightBoxIndex.sync=\"lightBoxIndex\"  />\n</div>\n</template>\n\n<script>\nimport AppCarouselItem from './AppCarouselItem.vue'\nimport AppLightBox from './AppLightBox.vue'\n\nexport default {\n  name: 'AppCarousel',\n  components: {\n    AppCarouselItem,\n    AppLightBox,\n  },\n  props: {\n    items: {\n      type: Array,\n      require: true,\n      default: () => []\n    },\n    photosLarge: {\n      type: Array,\n      require: true,\n      default: () => []\n    },\n  },\n  data(){\n    return {\n      curentSlide: 0,\n      lightBoxIndex: 0,\n      isOpen: false,\n      nums: [0, 2, 4, 6],\n      touch: {\n        startX: 0,\n        endX: 0\n      }\n    }\n  },\n  watch:{\n    isOpen(value){\n      if(value){\n        const alem = document.getElementById('carousel')\n        alem.removeEventListener('touchstart', event => this.touchstart(event))\n        alem.removeEventListener('touchmove', event => this.touchstart(event))\n        alem.removeEventListener('touchend', () => this.touchstart())\n      } \n      // else {\n      //   this.$el.addEventListener('touchstart', event => this.touchstart(event))\n      //   this.$el.addEventListener('touchmove', event => this.touchmove(event))\n      //   this.$el.addEventListener('touchend', () => this.touchend())\n      // }\n    }\n  },\n  created(){\n  },\n  mounted(){\n    const alem = document.getElementById('carousel')\n    alem.addEventListener('touchstart', event => this.touchstart(event))\n    alem.addEventListener('touchmove', event => this.touchmove(event))\n    alem.addEventListener('touchend', () => this.touchend())\n  },\n  computed: {\n    carouselPosition(){\n      return { transform: 'translateX(-'+ this.curentSlide * 50 +'%)'}\n    }\n  },\n  methods: {\n    setCurentSlide(i){\n      this.curentSlide = i\n    },\n    prev(){\n      const index = this.curentSlide > 0 ? this.curentSlide - 2 : this.items.length - 2\n      this.setCurentSlide(index)\n    },\n    next(){\n      const index = this.curentSlide < this.items.length - 2 ? this.curentSlide + 2 : 0\n      this.setCurentSlide(index)\n    },\n    showPhoto(data){\n      this.lightBoxIndex = data.index\n      this.isOpen = true\n    },\n    touchstart(event){\n      this.touch.startX = event.touches[0].clientX\n      this.touch.endX = 0\n    },\n    touchmove(event){\n      this.touch.endX = event.touches[0].clientX\n    },\n    touchend(){\n      if(!this.touch.endX || Math.abs(this.touch.endX - this.touch.startX) < 20){\n        return\n      }\n      if(this.touch.endX < this.touch.startX) {\n        this.next()\n      } else {\n        this.prev() \n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n.photo_wrapper{\n  display: flex;\n  justify-content: center;\n  user-select: none;\n  touch-action: pan-y;\n}\n\n.carousel_wrapper{\n  max-width: 790px;\n  height: 395px;\n  overflow: hidden;\n  margin: 0 auto;\n}\n\n.carousel{\n  display: flex;\n  transition: all ease .5s;\n}\n\n.carousel img {\n  pointer-events: none;\n}\n\n.left_arrow{\n  margin-right: 21px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n\n.right_arrow{\n  margin-left: 21px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n\n.empty_block{\n  width: 46px;\n}\n\n.pagination{\n  display: flex;\n  justify-content: space-between;\n  width: 84px;\n  margin: 12px auto 0;\n}\n\n.pagination_item{\n  width: 10px;\n  height: 10px;\n  border: 1px solid #FFFFFF;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.selected_item{\n  background: #D9D9D9;\n}\n</style>\n"]}]}